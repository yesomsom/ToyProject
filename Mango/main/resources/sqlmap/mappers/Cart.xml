<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cartMapper">
   <resultMap type="CartVO" id="cartList">
      <result property="cartId" column="cart_id" />
      <result property="goodsId" column="goods_id" />
      <result property="goodsPrice" column="goods_price" />
      <result property="id" column="id" />
      <result property="goodsQty" column="goods_qty" />
      <result property="deliveryPrice" column="delivery_price" />
      <result property="sellerName" column="seller_name" />
      <result property="goodsImg" column="goods_img" />
      <result property="goodsName" column="goods_name" />
      <result property="orderYN" column="orderYN" />
   </resultMap>

   <select id="selectAllCartList" resultMap="cartList"
      parameterType="CartVO">
      select * from cart WHERE id = #{id} AND orderYN = "N" ORDER BY cart_id DESC;
   </select>

   <insert id="insertCart" parameterType="CartVO">
      insert into cart(cart_id, goods_id, goods_price, id, goods_qty,
      delivery_price, seller_name, goods_img,
      goods_name, orderYN)
      values(#{cartId}, #{goodsId}, #{goodsPrice},
      #{id}, #{goodsQty}, #{deliveryPrice}, #{sellerName}, #{goodsImg},
      #{goodsName},"N")
   </insert>

   <update id="modifyCount" parameterType="CartVO">
      UPDATE cart SET goods_qty = #{goodsQty} WHERE cart_id = #{cartId};
   </update>
   
   <update id="modifyYN" parameterType="CartVO">
      UPDATE cart SET orderYN = #{orderYN} WHERE cart_id = #{cartId};
   </update>

   <delete id="deleteCart" parameterType="CartVO">
      delete from cart where cart_id = #{cartId}
   </delete>

</mapper>